#import "./fragments/nft.graphql"
#import "./fragments/nftDetails.graphql"

query nftListWithSearch(
  $first: Int!
  $offset: Int
  $denyList: [String!]
  $search: [NFTEntityFilter!]
  $orderBy: [NftEntitiesOrderBy!] = [BLOCK_NUMBER_DESC]
) {
  nFTEntities(
    orderBy: $orderBy
    first: $first
    offset: $offset
    filter: {
      burned: { distinctFrom: true }
      name: { notLike: "%Kanaria%" }
      issuer: { notIn: $denyList }
      and: $search
      collectionId: {
        in: ["008cb31b414e1d1514-MC-I-C", "008963f0b21767d825-BULLT"] #TODO: Fetch collections from API
      }
    }
  ) {
    totalCount
    nodes {
      ...nft
      ...nftDetails
      emotes {
        totalCount
      }
    }
  }
}
